---
layout: base.njk
---
<article class="post flow">
    <header class="post-header">
        <h1 class="post-title">{{ title }}</h1>
        {% if description %}
        <p class="post-description">{{ description }}</p>
        {% endif %}
    </header>

    <div class="post-meta">
        <div class="post-author">
            <a href="{{ metadata.author.url }}">{{ metadata.author.name }}</a>
        </div>

        <div class="post-date">
            <time datetime="{{ page.date | htmlDateString }}">
                {{ page.date | readableDate }}
            </time>
        </div>

        {% if tags %}
        <div class="post-tags">
            {% for tag in tags %}
                {% if tag != "posts" %}
                <a href="/tags/{{ tag }}" class="tag">#{{ tag }}</a>
                {% endif %}
            {% endfor %}
        </div>
        {% endif %}
    </div>

    {% if toc %}
    <nav class="post-toc" aria-label="Table of Contents">
        <h2>Contents</h2>
        {{ content | toc | safe }}
    </nav>
    {% endif %}

    <div class="post-content">
        {{ content | safe }}
    </div>

    {% if bibliography %}
    <div class="post-bibliography">
        <h2>References</h2>
        {% include "bibliography.njk" %}
    </div>
    {% endif %}

    <footer class="post-navigation">
        <nav class="cluster" style="--cluster-gap: var(--space-l)">
            {%- set previousPost = collections.posts | getPreviousCollectionItem %}
            {%- set nextPost = collections.posts | getNextCollectionItem %}

            {% if previousPost %}
                <a href="{{ previousPost.url }}" rel="prev" class="post-nav-link">
                    <span class="weight-medium">←</span>
                    <span>{{ previousPost.data.title }}</span>
                </a>
            {% endif %}

            {% if nextPost %}
                <a href="{{ nextPost.url }}" rel="next" class="post-nav-link text-right">
                    <span>{{ nextPost.data.title }}</span>
                    <span class="weight-medium">→</span>
                </a>
            {% endif %}
        </nav>
    </footer>
</article> 